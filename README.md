# Тестовое задание: записная книжка на Laravel

## Задача
Вам необходимо создать REST API для управления пользователями с использованием фреймворка Laravel.

API должно предоставлять возможности для получения списка пользователей, получения информации об отдельном пользователе, создани нового пользователя, возможность обновления данных пользователя и удаления пользователя. Авторизация и аутентификация не требуется.

## Общая информация
Данный проект представляет собой API, реализующее базовые CRUD-операции.
Для документирования методов использован фреймворк Swagger.
Проект реализован на базе докер-контейнера и имеет пошаговую инструкцию по тестированию приложения.

Проект реализован на базе PHP 8.0.30, NGINX 1.27 и MySQL 8.0.40.

Для проверки работоспособности в сборку интегрирован Swagger.

## 0. Подготовка

Находясь в нужной директории, клонируем репозиторий на компьютер с помощью команды:

```git clone git@github.com:Longin89/LaraUsers-main.git```

После этого, переходим в папку

```LaraUsers-main```

## 1. Установка

Для начала нужно скачать все необходимое для  контейнера командой:

```docker-compose build```

После этого поднимем сервисы с помощью:

```docker-compose up -d```

Далее, нужно зайти в консоль контейнера:

```docker exec -it -i php /bin/bash```

В папку ```src```:

```cd src ```

Чтобы установить зависимости командой:

```composer install```

После завершения установки в браузерной строке нужно перейти по адресу

```http://localhost```

Чтобы убедится, что Laravel работает

![Laravel](/screenshots/1.jfif)

#### Внимание: если страница Laravel не отображается - проверьте наличие полных прав на папку проекта и обновите страницу.
В Ubuntu, например, самый простой способ это сделать - ввести команду

```sudo chmod -R 777 '/папка_проекта/'```

## 2. Миграция и наполнение базы данных

Там-же, в файловой системе контейнера введите команду

```php artisan migrate```

для миграции тестовой базы данных.

После этого введите команду

```php artisan db:seed```

Для наполнения базы данных псевдопользователями.

Проверить результат (помимо логов) можно с помощью PhpMyAdmin (таблица users в бд users), находящемуся по адресу

```http://localhost:8080```

![Phpmyadmin](/screenshots/2.jfif)

## 3. Swagger

В адресной строке браузера перейдите по адресу

```http://localhost/api/documentation```

и откройте вкладку ```Users```:

![Swagger](/screenshots/3.jfif)

API содержит в себе 5 методов:

```GET /api/users``` - возвращает все записи БД, включая количество страниц и пагинацию

```POST /api/users``` - добавляет новую запись в БД.

```GET /api/users/{user}``` - возвращает запись с указанным ИД или ошибку, если запись не существует.

```PUT /api/users/{user}``` - Обновляет запись с указанным ИД или возвращает ошибку, если запись не существует или введенные данные некорректны.

```DELETE /api/users/{user}``` - Удаляет запись с указанным ИД или возвращает ошибку, если запись не существует.

Поля принимают следующие данные:

```name``` - имя пользователя (string, обязательно);

```email``` - почта (email, обязательно);

```password``` - пароль (string, обязательно);

```ip``` - ip-адрес (string, обязательно);

```comment``` - комментарий (string, необязательно);

Поля ввода имеют валидацию (выводят ошибку при некорректно заполненных данных), e-mail (исходя из полного ТЗ) недоступен для метода update.



## 4. Комментарии

Код имеет лаконичные, но понятные (надеюсь) комментарии.

![Code1](/screenshots/4.jfif)

![Code2](/screenshots/5.jfif)